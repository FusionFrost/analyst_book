# Contract first / Code first

**"Contract first" (Соглашение в приоритете)** - это подход к разработке программного обеспечения, в котором сначала определяется и описывается контракт (интерфейс) между компонентами системы, а затем на основе этого контракта создаются соответствующие реализации.

Основные идеи "contract first" подхода:

1. **Определение контракта:** Сначала разрабатывается и формализуется контракт между компонентами системы. Контракт определяет, как компоненты должны взаимодействовать друг с другом, какие операции и сообщения могут быть отправлены и получены, какие параметры и типы данных используются и какие ограничения и правила применяются.
2. **Независимость от конкретной реализации:** Контракт описывает только интерфейс и ожидаемое поведение компоненты, не вдаваясь в детали реализации. Это позволяет разработчикам работать над реализацией независимо друг от друга, при условии, что они следуют определенному контракту.
3. **Продвижение модульности и согласованности:** Определение контракта первым делом позволяет явно определить границы и ответственности каждой компоненты системы. Это способствует более модульной архитектуре, где компоненты могут быть легко заменены или модифицированы без влияния на другие компоненты. Контракт также обеспечивает согласованность между компонентами, так как они обязаны соблюдать описанные правила и форматы данных.
4. **Основа для тестирования и интеграции:** Контракт предоставляет явные точки входа и выхода для каждой компоненты, что упрощает тестирование и интеграцию системы. Разработчики могут создавать тесты на основе контракта, проверяя соответствие поведения реализации контракту.

"Contract first" подход широко используется в различных областях разработки программного обеспечения, таких как веб-сервисы, сервисно-ориентированная архитектура (SOA), микросервисы и другие сценарии, где важно определить ясный контракт между компонентами системы.



**"Code first" (Сначала код)** - это подход к разработке программного обеспечения, в котором сначала создается код реализации системы, а затем на его основе автоматически генерируется соответствующая схема базы данных или контракт между компонентами.

Основные идеи "code first" подхода:

1. **Разработка кода:** Разработчики сначала создают код реализации системы, включая сущности, классы, методы и логику. Они фокусируются на моделировании предметной области и функциональности системы, без необходимости явного определения базы данных или контракта.
2. **Автоматическая генерация:** На основе разработанного кода реализации, с помощью специальных инструментов или фреймворков, автоматически генерируется соответствующая схема базы данных или контракт. Генерация может быть выполнена на основе аннотаций, атрибутов или других метаданных, указанных в коде.
3. **Инверсия управления:** "Code first" подход инвертирует процесс разработки по сравнению с традиционным подходом "database first" (Сначала база данных). Вместо того, чтобы создавать базу данных или контракт и затем генерировать код реализации, разработчики сосредотачиваются на коде и позволяют инструментам автоматически сгенерировать соответствующие артефакты.
4. **Гибкость и быстрота разработки:** "Code first" подход позволяет быстрее начать разработку и экспериментировать с моделью предметной области и функциональностью системы. Разработчики могут быстро вносить изменения в код, а соответствующие артефакты будут автоматически обновляться или перегенерироваться.
5. **Ограничения и сложности:** Однако, "code first" подход может иметь некоторые ограничения и сложности при разработке сложных систем или при работе в команде. Важно обеспечить согласованность между кодом и соответствующими артефактами, а также управлять эволюцией схемы базы данных или контракта при изменении кода.

"Code first" подход часто используется в различных фреймворках и технологиях разработки программного обеспечения, таких как ORM (Object-Relational Mapping) инструменты или веб-фреймворки, которые автоматически создают схему базы данных на основе кода моделей. Этот подход облегчает разработку и поддержку систем, основанных на объектно-ориентированном программировании.
